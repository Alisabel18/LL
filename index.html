<!DOCTYPE html>
<html>
<head>
  <title>Admin Login - Participant Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f4fdfc;
      padding: 20px;
      max-width: 1200px;
      margin: auto;
    }
    #menuIcon {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
    }
    #menuDropdown {
      display: none;
      position: absolute;
      top: 50px;
      right: 20px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    #menuDropdown button {
      display: block;
      width: 100%;
      border: none;
      background: none;
      padding: 10px;
      text-align: left;
      cursor: pointer;
    }
    #menuDropdown button:hover {
      background-color: #f0f0f0;
    }
  </style>
</head>
<body>

<!-- Menu Icon -->
<div id="menuIcon" onclick="toggleMenu()">â˜°</div>
<div id="menuDropdown">
  <button onclick="changePassword()">Change Password</button>
  <button onclick="logout()">Log Out</button>
</div>

<!-- LOGIN PAGE -->
<div id="loginPage">...</div>

<!-- MAIN CONTENT -->
<div id="mainContent">...</div>

<!-- DELETE PASSWORD MODAL -->
<div id="passwordModal">...</div>

<script>
  let participants = [];
  let deletePendingId = null;
  let updateHistory = {};
  let currentPassword = "admin123";

  function toggleMenu() {
    const menu = document.getElementById("menuDropdown");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
  }

  function logout() {
    document.getElementById("mainContent").style.display = "none";
    document.getElementById("loginPage").style.display = "flex";
  }

  function changePassword() {
    const oldPass = prompt("Enter current password:");
    if (oldPass !== currentPassword) {
      alert("Incorrect password.");
      return;
    }
    const newPass = prompt("Enter new password:");
    if (newPass) {
      currentPassword = newPass;
      alert("Password updated successfully.");
    }
  }

  document.getElementById("birthdate").addEventListener("change", function() {
    const bday = new Date(this.value);
    const ageDif = Date.now() - bday.getTime();
    const ageDate = new Date(ageDif);
    const age = Math.abs(ageDate.getUTCFullYear() - 1970);
    document.getElementById("age").value = age;
  });

  function checkLogin() {
    const username = document.getElementById("loginUser").value;
    const password = document.getElementById("loginPass").value;
    if (username === "isabeeel" && password === currentPassword) {
      document.getElementById("loginPage").style.display = "none";
      document.getElementById("mainContent").style.display = "block";
    } else {
      alert("Incorrect credentials.");
    }
  }

  function showForm() { ... }
  function submitParticipant(event) { ... }
  function displayParticipants() { ... }
  function showDashboard(p) { ... }
  function updateParticipant(id) { ... }
  function openPasswordModal(id) { ... }
  function closePasswordModal() { ... }
  function confirmPassword() { ... }
</script>
</body>
</html>
